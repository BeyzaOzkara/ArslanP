{% extends 'adminlte/base.html' %}
{% block body_class %}{% block bodyclass %}sidebar-collapse {% endblock %}{% endblock %}
{% load static %}

{% block sidebar %}
{% endblock %}

{% block content %}

<div class="container-fluid">
    <h1>Parola Değişimi Başarılı!</h1>
    <p>Parolanız başarıyla değiştirildi.</p>
    <!-- <p>Lütfen <a href="{% url 'login' %}">yeniden giriş yapınız</a>.</p> -->
    <p id="redirect-text">Bu sayfa 3 saniye içinde YUDA Listesi'ne yönlendirilecek.</p>
</div>    

{% endblock %}

{% block extra_js %}
<script>
    let countdown = 3;
    
    function updateCountdown() {
        // Display countdown in the paragraph
        document.getElementById('redirect-text').innerText = `Bu sayfa ${countdown} saniye içinde yönlendirilecek.`;
        
        // Decrease countdown by 1
        countdown--;
        
        // Redirect to login page when countdown reaches 0
        if (countdown === 0) {
            window.location.href = "{% url 'ArslanTakipApp:yudas' %}";
        } else {
            setTimeout(updateCountdown, 1000); // 1 second delay
        }
    }
    
    // Initial call to start the countdown
    updateCountdown();
</script>
{% endblock %}